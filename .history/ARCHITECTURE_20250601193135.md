# DeepAlias Hunter Pro v3.0.0 - DocumentaÃ§Ã£o da Arquitetura Modular

## ğŸ“‹ VisÃ£o Geral

O DeepAlias Hunter Pro foi completamente refatorado para uma arquitetura modular baseada no padrÃ£o MVC (Model-View-Controller), proporcionando maior manutenibilidade, escalabilidade e organizaÃ§Ã£o do cÃ³digo.

## ğŸ—ï¸ Arquitetura

### Estrutura de DiretÃ³rios
```
nova-extensao/
â”œâ”€â”€ manifest.json              # ConfiguraÃ§Ã£o da extensÃ£o
â”œâ”€â”€ popup.html                 # Interface principal
â”œâ”€â”€ popup.css                  # Estilos modernos com CSS Variables
â”œâ”€â”€ background.js              # Script de background (legacy)
â”œâ”€â”€ popup.js                   # Script do popup (legacy)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ background/
â”‚   â”‚   â””â”€â”€ background.js      # Script de background refatorado
â”‚   â”œâ”€â”€ services/              # Camada de Model (ServiÃ§os)
â”‚   â”‚   â”œâ”€â”€ platformService.js # Gerenciamento de plataformas
â”‚   â”‚   â”œâ”€â”€ searchEngine.js    # Motor de busca inteligente
â”‚   â”‚   â”œâ”€â”€ searchPatternService.js # ServiÃ§o de padrÃµes de busca
â”‚   â”‚   â””â”€â”€ storageService.js  # Armazenamento de dados
â”‚   â”œâ”€â”€ utils/                 # UtilitÃ¡rios compartilhados
â”‚   â”‚   â”œâ”€â”€ usernameVariator.js # GeraÃ§Ã£o de variaÃ§Ãµes
â”‚   â”‚   â””â”€â”€ platformChecker.js # VerificaÃ§Ã£o de plataformas
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â””â”€â”€ messageHandler.js  # ComunicaÃ§Ã£o entre scripts
â”‚   â””â”€â”€ popup/                 # Interface do usuÃ¡rio
â”‚       â”œâ”€â”€ popup.js           # AplicaÃ§Ã£o principal
â”‚       â”œâ”€â”€ managers/
â”‚       â”‚   â””â”€â”€ uiManager.js   # Gerenciador de interface (View)
â”‚       â””â”€â”€ controllers/       # Controladores (Controllers)
â”‚           â”œâ”€â”€ searchController.js   # Controle de busca
â”‚           â”œâ”€â”€ resultsController.js  # Controle de resultados
â”‚           â””â”€â”€ settingsController.js # Controle de configuraÃ§Ãµes
```

## ğŸ¯ Componentes Principais

### 1. UIManager (View Layer)
**LocalizaÃ§Ã£o:** `src/popup/managers/uiManager.js`

**Responsabilidades:**
- Gerenciamento do DOM e elementos da interface
- Sistema de eventos personalizado
- ValidaÃ§Ã£o de entrada em tempo real
- Sistema de notificaÃ§Ãµes
- Controle de temas (claro/escuro)
- GestÃ£o de estados visuais
- AnimaÃ§Ãµes e transiÃ§Ãµes

**Principais MÃ©todos:**
```javascript
// GestÃ£o de elementos
getElementById(id)
updateElement(id, content)
show/hideElement(id)

// Sistema de eventos
on(event, callback)
emit(event, data)
onEnterKey(callback)

// NotificaÃ§Ãµes
showNotification(message, type, duration)
showError(message)
showSuccess(message)

// Estados
setSearchingState(isSearching)
setConnectionStatus(connected, version)
updateProgress(progress)

// Temas
toggleTheme()
setTheme(theme)
```

### 2. SearchController (Controller Layer)
**LocalizaÃ§Ã£o:** `src/popup/controllers/searchController.js`

**Responsabilidades:**
- Controle do processo de busca
- ComunicaÃ§Ã£o com background script
- Monitoramento de progresso
- Tratamento de erros
- GestÃ£o de configuraÃ§Ãµes de busca
- EstatÃ­sticas em tempo real

**Principais MÃ©todos:**
```javascript
// Controle de busca
startSearch()
stopSearch()
pauseSearch()
resumeSearch()

// ConfiguraÃ§Ãµes
updateSearchConfig(config)
getSearchStats()

// Eventos emitidos
'searchStart'
'searchEnd' 
'progress'
'result'
'error'
```

### 3. ResultsController (Controller Layer)
**LocalizaÃ§Ã£o:** `src/popup/controllers/resultsController.js`

**Responsabilidades:**
- RenderizaÃ§Ã£o de resultados
- Filtros e ordenaÃ§Ã£o
- ExportaÃ§Ã£o de dados
- Agrupamento por categorias
- EstatÃ­sticas de resultados
- Cache de resultados

**Principais MÃ©todos:**
```javascript
// GestÃ£o de resultados
addResult(result)
clearResults()
filterResults(filter)
sortResults(criteria)

// RenderizaÃ§Ã£o
renderResults()
renderCategoryGroup(category, results)
renderSummaryStats()

// ExportaÃ§Ã£o
exportResults(format)
exportToJSON()
exportToCSV()
exportToTXT()

// EstatÃ­sticas
updateStats()
getCategoryBreakdown()
```

### 4. SettingsController (Controller Layer)
**LocalizaÃ§Ã£o:** `src/popup/controllers/settingsController.js`

**Responsabilidades:**
- Gerenciamento de configuraÃ§Ãµes
- Interface de configuraÃ§Ãµes (modal)
- ImportaÃ§Ã£o/exportaÃ§Ã£o de configuraÃ§Ãµes
- ManutenÃ§Ã£o do sistema
- ConfiguraÃ§Ãµes por categoria

**Principais MÃ©todos:**
```javascript
// GestÃ£o de configuraÃ§Ãµes
loadSettings()
saveSettings()
resetSettings()
exportSettings()
importSettings()

// Interface
toggleSettings()
switchTab(tabId)
updateSettingDisplay()

// ManutenÃ§Ã£o
clearCache()
calculateCacheSize()
getSystemInfo()
```

## ğŸ”§ Sistema de ConfiguraÃ§Ãµes

### Categorias de ConfiguraÃ§Ã£o

#### 1. Busca (Search)
```javascript
{
  timeout: 5000,           // Timeout por plataforma (ms)
  delay: 500,              // Delay entre requisiÃ§Ãµes (ms)
  enableRetries: true,     // Tentar novamente em erro
  maxRetries: 2,           // MÃ¡ximo de tentativas
  includeVariations: true, // Incluir variaÃ§Ãµes de username
  deepSearch: false        // Busca profunda (mais plataformas)
}
```

#### 2. Interface (UI)
```javascript
{
  theme: 'auto',              // auto/light/dark
  showProgressDetails: true,   // Detalhes do progresso
  enableAnimations: true,      // AnimaÃ§Ãµes da interface
  enableSounds: false,         // Sons de notificaÃ§Ã£o
  autoHideNotifications: true  // Auto-ocultar notificaÃ§Ãµes
}
```

#### 3. SeguranÃ§a (Security)
```javascript
{
  clearDataOnClose: false,  // Limpar dados ao fechar
  enableLogging: true,      // Logs de debug
  maxCacheSize: 10485760   // Tamanho mÃ¡ximo do cache (10MB)
}
```

#### 4. NotificaÃ§Ãµes (Notifications)
```javascript
{
  enableNotifications: true,   // Ativar notificaÃ§Ãµes
  enableSounds: false,         // Sons
  notificationDuration: 3000,  // DuraÃ§Ã£o (ms)
  showProgressNotifications: true
}
```

#### 5. AvanÃ§ado (Advanced)
```javascript
{
  enableExperimentalFeatures: false,
  customUserAgent: '',
  enableCORS: false,
  debugMode: false
}
```

## ğŸ¨ Sistema de Temas

### CSS Variables Utilizadas
```css
:root {
  /* Cores principais */
  --primary-color: #667eea;
  --secondary-color: #764ba2;
  --success-color: #28a745;
  --danger-color: #dc3545;
  --warning-color: #ffc107;
  --info-color: #17a2b8;
  
  /* Backgrounds */
  --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --bg-card: rgba(255, 255, 255, 0.1);
  --bg-modal: rgba(0, 0, 0, 0.8);
  
  /* Texto */
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.8);
  --text-muted: rgba(255, 255, 255, 0.6);
  
  /* Efeitos */
  --border-radius: 12px;
  --border-color: rgba(255, 255, 255, 0.2);
  --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.1);
  --transition-fast: 0.2s ease;
}
```

### Temas DisponÃ­veis
- **Auto:** Detecta preferÃªncia do sistema
- **Light:** Tema claro com gradiente azul
- **Dark:** Tema escuro com gradiente azul-escuro

## ğŸ“¡ Sistema de Eventos

### Eventos do UIManager
```javascript
// Eventos de interface
'search'        // BotÃ£o de busca clicado
'stop'          // BotÃ£o de parar clicado
'clear'         // BotÃ£o de limpar clicado
'export'        // BotÃ£o de exportar clicado
'settings'      // BotÃ£o de configuraÃ§Ãµes clicado
'themeToggle'   // Alternar tema

// Eventos de entrada
'usernameChange'  // Username alterado
'enterKey'        // Enter pressionado
'inputValidation' // ValidaÃ§Ã£o de entrada
```

### Eventos do SearchController
```javascript
'searchStart'   // Busca iniciada
'searchEnd'     // Busca finalizada
'searchPause'   // Busca pausada
'searchResume'  // Busca retomada
'progress'      // Progresso atualizado
'result'        // Novo resultado
'error'         // Erro na busca
'configUpdate'  // ConfiguraÃ§Ã£o atualizada
```

### Eventos do ResultsController
```javascript
'resultAdded'     // Resultado adicionado
'resultsCleared'  // Resultados limpos
'resultsFiltered' // Resultados filtrados
'resultsSorted'   // Resultados ordenados
'resultsExported' // Resultados exportados
'statsUpdated'    // EstatÃ­sticas atualizadas
```

## ğŸ”„ Fluxo de Dados

### 1. InicializaÃ§Ã£o
```
popup.js â†’ UIManager â†’ Controllers â†’ Background Script
```

### 2. Busca
```
User Input â†’ SearchController â†’ Background Script â†’ PlatformService
     â†“
Results â†’ ResultsController â†’ UIManager â†’ Display
```

### 3. ConfiguraÃ§Ãµes
```
User â†’ SettingsController â†’ StorageService â†’ Chrome Storage
```

## ğŸš€ Principais Melhorias da v3.0.0

### 1. Arquitetura
- âœ… MigraÃ§Ã£o para padrÃ£o MVC
- âœ… SeparaÃ§Ã£o de responsabilidades
- âœ… CÃ³digo modular e reutilizÃ¡vel
- âœ… Sistema de eventos robusto

### 2. Interface
- âœ… Design moderno com CSS Variables
- âœ… Sistema de temas completo
- âœ… NotificaÃ§Ãµes interativas
- âœ… ValidaÃ§Ã£o em tempo real
- âœ… AnimaÃ§Ãµes suaves

### 3. Funcionalidades
- âœ… ConfiguraÃ§Ãµes avanÃ§adas em modal
- âœ… MÃºltiplos formatos de exportaÃ§Ã£o
- âœ… Filtros e ordenaÃ§Ã£o inteligente
- âœ… EstatÃ­sticas detalhadas
- âœ… Cache otimizado

### 4. Performance
- âœ… Carregamento assÃ­ncrono
- âœ… GestÃ£o de memÃ³ria melhorada
- âœ… Tratamento de erros robusto
- âœ… PrevenÃ§Ã£o de vazamentos

## ğŸ§ª Testes e Debugging

### Console Logs
A aplicaÃ§Ã£o inclui logs detalhados para debugging:
```javascript
// Exemplo de logs
ğŸš€ DeepAlias Hunter Pro v3.0.0 - Popup Inicializado
âœ… UIManager inicializado com sucesso
ğŸ” SearchController configurado
ğŸ“Š ResultsController carregado
âš™ï¸ SettingsController inicializado
ğŸ”— ConexÃ£o com background estabelecida
```

### Estados de Debug
```javascript
// Ativar modo debug
chrome.storage.local.set({ debugMode: true });

// Logs detalhados disponÃ­veis
- Eventos de interface
- ComunicaÃ§Ã£o com background
- AtualizaÃ§Ãµes de estado
- Erros e warnings
- Performance timing
```

## ğŸ”® PrÃ³ximos Passos

### Funcionalidades Planejadas
1. **Sistema de Plugins:** Arquitetura para plugins customizados
2. **API PÃºblica:** ExposiÃ§Ã£o de APIs para extensÃµes terceiras
3. **Machine Learning:** DetecÃ§Ã£o inteligente de padrÃµes
4. **RelatÃ³rios AvanÃ§ados:** Dashboard com mÃ©tricas detalhadas
5. **SincronizaÃ§Ã£o:** Backup em nuvem das configuraÃ§Ãµes

### Melhorias TÃ©cnicas
1. **TypeScript:** MigraÃ§Ã£o para maior type safety
2. **Web Workers:** Processamento em background
3. **PWA Features:** Cache offline e service workers
4. **Performance Monitoring:** MÃ©tricas de performance em tempo real
5. **Automated Testing:** Suite de testes automatizados

## ğŸ“ ContribuiÃ§Ã£o

### Estrutura para Novos Recursos
1. **Services:** LÃ³gica de negÃ³cio em `src/services/`
2. **Controllers:** Controle de fluxo em `src/popup/controllers/`
3. **Utils:** UtilitÃ¡rios compartilhados em `src/utils/`
4. **Styles:** Estilos modulares no `popup.css`

### PadrÃµes de CÃ³digo
- Use ES6+ modules
- Implemente error handling robusto
- Siga o padrÃ£o de eventos existente
- Mantenha comentÃ¡rios JSDoc atualizados
- Teste em diferentes navegadores

---

*DocumentaÃ§Ã£o atualizada em: $(date)
VersÃ£o: 3.0.0*
